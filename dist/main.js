(()=>{"use strict";function t(){return Math.random()>.5?3:4}function e(e,s,n){let r=t(),i=e.x,h=e.y;switch(r){case 1:h++;break;case 2:h--;break;case 3:i++;break;case 4:i--}return i>=0&&i<s&&h>=0&&h<n?{x:i,y:h}:e}function s(t,e){let s=document.querySelector(".container");s&&document.body.remove(s),s=n("container",document.body);for(let r=0;r<t.length;r++){let i=n("row",s);for(let s=0;s<t[r].length;s++)r===e.x&&s===e.y?n("pers",i):3===t[r][s]?n("wall",i):4===t[r][s]?n("line",i):(t[r][s],n("entrance",i))}}function n(t,e){let s=document.createElement("div");return s.classList.add(t),e.appendChild(s),s}class r{constructor(t,e,s){this.x=t,this.y=e,this.mass=s}right(){this.x>this.mass[this.y].length-1||3===this.mass[this.x][this.y]||this.y++}left(){this.x>this.mass[this.y].length-1||3===this.mass[this.x][this.y]||this.y--}up(){this.y>this.mass.length-1||3===this.mass[this.x][this.y]||this.x--}down(){this.y>this.mass.length-1||3===this.mass[this.x][this.y]||this.x++}}let i=document.querySelector(".run");document.querySelector(".btn").addEventListener("click",(n=>{n.preventDefault();let h=function(s,n){let r=[];for(let e=0;e<s;e++){r[e]=[];for(let s=0;s<n;s++)r[e][s]=Math.floor(t())}return r[0][0]=1,r[s-1][n-1]=2,function(t,s,n){let r={x:s.x+1,y:s.y};for(;r.x!=n.x-1&&r.y!=n.y-1;)r=e(r,t.length,t[0].length),r.x!==s.x&&r.y!==s.y&&(t[r.x][r.y]=4)}(r,{x:0,y:0},{x:s-1,y:n-1}),r}(i.querySelector("#width").value,i.querySelector("#height").value),o=new r(1,1,h);s(h,o),function(t,e){document.body.addEventListener("keydown",(n=>{!function(t,e,n){switch(t.key){case"ArrowUp":n.up();break;case"ArrowDown":n.down();break;case"ArrowLeft":n.left();break;case"ArrowRight":n.right()}s(e,n)}(n,t,e)}))}(h,o)}))})();